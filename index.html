<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Game Tebak-Tebakan</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg,#667eea,#764ba2);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    color: #333;
}

.container {
    background: white;
    width: 95%;
    max-width: 400px;
    padding: 20px;
    border-radius: 15px;
    text-align: center;
    animation: fadeIn 1s;
}

@keyframes fadeIn {
    from {opacity:0; transform: scale(0.9);}
    to {opacity:1; transform: scale(1);}
}

select, input, button {
    width: 100%;
    padding: 10px;
    margin: 7px 0;
    border-radius: 8px;
    border: 1px solid #ccc;
    font-size: 16px;
}

button {
    background: #667eea;
    color: white;
    border: none;
    cursor: pointer;
}

button:hover {
    background: #5a67d8;
}

.message {
    font-weight: bold;
    margin-top: 10px;
}

.timer {
    font-size: 18px;
    margin: 5px 0;
}

.score {
    margin-top: 5px;
    font-size: 14px;
}

.leaderboard {
    text-align: left;
    margin-top: 10px;
    font-size: 14px;
}
</style>
</head>

<body>
<div class="container">
    <h2>üéÆ Tebak-Tebakan</h2>

    <select id="mode">
        <option value="angka">Tebak Angka</option>
        <option value="kata">Tebak Kata</option>
    </select>

    <select id="level">
        <option value="mudah">Mudah</option>
        <option value="sedang">Sedang</option>
        <option value="sulit">Sulit</option>
    </select>

    <select id="playerMode">
        <option value="1">1 Pemain</option>
        <option value="2">2 Pemain</option>
    </select>

    <input id="input" placeholder="Masukkan tebakan">

    <button onclick="tebak()">Tebak</button>
    <button onclick="resetGame()">Reset</button>

    <div class="timer" id="timer">‚è±Ô∏è 30</div>
    <div class="message" id="message"></div>
    <div class="score" id="score"></div>

    <div class="leaderboard">
        <h4>üèÜ Leaderboard</h4>
        <ol id="leaderboard"></ol>
    </div>
</div>

<audio id="benar" src="https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3"></audio>
<audio id="salah" src="https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3"></audio>

<script>
let angka, kata;
let skor = 0;
let waktu = 30;
let timer;
let giliran = 1;

const kataList = ["kucing","mobil","komputer","sekolah","pisang","kamera"];

function startGame() {
    clearInterval(timer);
    waktu = 30;
    timer = setInterval(() => {
        waktu--;
        document.getElementById("timer").textContent = "‚è±Ô∏è " + waktu;
        if (waktu <= 0) kalah();
    },1000);

    angka = Math.floor(Math.random()*100)+1;
    kata = kataList[Math.floor(Math.random()*kataList.length)];
}

startGame();

function tebak() {
    const input = document.getElementById("input").value.toLowerCase();
    const mode = document.getElementById("mode").value;
    const msg = document.getElementById("message");

    if (!input) return;

    if (mode === "angka") {
        if (Number(input) === angka) menang();
        else salah();
    } else {
        if (input === kata) menang();
        else salah();
    }
}

function menang() {
    document.getElementById("benar").play();
    skor += waktu;
    document.getElementById("message").textContent = "üéâ BENAR!";
    document.getElementById("score").textContent = "Skor: " + skor;
    saveScore();
    startGame();
}

function salah() {
    document.getElementById("salah").play();
    document.getElementById("message").textContent = "‚ùå SALAH!";
    gantiGiliran();
}

function kalah() {
    document.getElementById("message").textContent = "‚è∞ Waktu Habis!";
    gantiGiliran();
    startGame();
}

function gantiGiliran() {
    const pm = document.getElementById("playerMode").value;
    if (pm == 2) {
        giliran = giliran === 1 ? 2 : 1;
        document.getElementById("message").textContent += " | Giliran Pemain " + giliran;
    }
}

function resetGame() {
    skor = 0;
    document.getElementById("score").textContent = "";
    startGame();
}

function saveScore() {
    let data = JSON.parse(localStorage.getItem("leaderboard")) || [];
    data.push(skor);
    data.sort((a,b)=>b-a);
    data = data.slice(0,5);
    localStorage.setItem("leaderboard", JSON.stringify(data));
    renderLeaderboard();
}

function renderLeaderboard() {
    const list = document.getElementById("leaderboard");
    list.innerHTML = "";
    const data = JSON.parse(localStorage.getItem("leaderboard")) || [];
    data.forEach(s => {
        const li = document.createElement("li");
        li.textContent = s;
        list.appendChild(li);
    });
}

renderLeaderboard();
</script>
</body>
</html>
